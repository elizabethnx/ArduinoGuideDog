#include <Servo.h>                           // Include servo library



Servo servoLeft;                             // Declare left servo signal
Servo servoRight;                            // Declare right servo signal
int leftWhisker =4;
int rightWhisker = 3; 
int PIEZOPIN= 2;
int PIEZOPIN2= 8;
int PIEZOPIN3= 9;
int note_A4 = 440;
int note_E5 = 659;
int note_F5 = 698;
int note_C5 = 523;
int note_D5 = 587;
int note_D3 = 147;
int note_C3 = 131;
int note_C6 = 1047;
int note_D6 = 1175;
int note_C7 = 2093;
int note_D7 = 2349;

int LED=6;


void setup() {
  //delay(40000);
  Serial.begin(9600);
  
  pinMode(leftWhisker, INPUT);
  pinMode(rightWhisker, INPUT);
  //pinMode(PIR, INPUT);
  servoLeft.attach(13);                      // Attach left signal to pin 13
  servoRight.attach(12);                     // Attach right signal to pin 12
}
void PIEZO(){
  tone(PIEZOPIN, note_C6, 200); 
  tone(PIEZOPIN2, note_C6, 200);
  tone(PIEZOPIN3, note_C6, 200);
  delay(500); 
  tone(PIEZOPIN, note_C6, 200); 
  tone(PIEZOPIN2, note_C6, 200);
  tone(PIEZOPIN3, note_C6, 200);
  delay(500); 
  tone(PIEZOPIN, note_D6, 200); 
  tone(PIEZOPIN2, note_D6, 200); 
  tone(PIEZOPIN3, note_D6, 200); 
  delay(500); 
}


void touch (){
  servoLeft.writeMicroseconds(1500);
  servoRight.writeMicroseconds(1500);
  delay(500);
  servoRight.writeMicroseconds(1500);
  servoLeft.writeMicroseconds(1500);
  delay(500);
}

void straight(){
  servoLeft.writeMicroseconds(1700);
  servoRight.writeMicroseconds(1300);
}
  

  
void turn_left (){
  servoLeft.writeMicroseconds(1700);
  servoRight.writeMicroseconds(1500);
  delay(200);
  //touch();
}

void back(){
  servoLeft.writeMicroseconds(1300);
  servoRight.writeMicroseconds(1700);
}

void turn_right(){
  servoLeft.writeMicroseconds(1500);
  servoRight.writeMicroseconds(1700);
  delay(1000);
  //touch();
}

//void make_sound(){
//  tone(PIEZOPIN, note_A4, 200);
//  delay(500); 
//  tone(PIEZOPIN, note_A4, 200); 
//  delay(500);
//  tone(PIEZOPIN, note_A4, 200); 
//  delay(500); 
//  tone(PIEZOPIN, note_D5, 200); 
//  delay(500); 
//  tone(PIEZOPIN, note_E5, 200); 
//  delay(500); 
//  tone(PIEZOPIN, note_E5, 200); 
//  delay(500); 
//}

  

void loop() {
  
  int leftValue = digitalRead(leftWhisker);
  int rightValue = digitalRead(rightWhisker);
  Serial.print("Left: ");
  Serial.println(leftValue);
  Serial.print("Right: "); 
  Serial.println(rightValue);
  servoLeft.writeMicroseconds(1700);
  servoRight.writeMicroseconds(1300);
  int makesound();
  straight();
    if (leftValue == 0 && rightValue == 0){
      back();
      PIEZO();
      delay(100);
      straight();
      delay(350);
      turn_right();
      delay(500);
     
      
    }
     
//    touch();
//    back();
//    turn_left();
    else if(leftValue == 0 && rightValue== 1){
      Serial.print("I'm here");
      back();    
      delay(100);
      PIEZO(); 
      delay(200);
      turn_right();
      delay(300);
    }else if (rightValue == 0 && leftValue == 1){
      Serial.print("Turn left");
      delay(500);
      back();
      delay(300);
      turn_left();
      delay(300);
}}  


